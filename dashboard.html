<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Sentinel-X | Super Admin Command Center</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-bg: #0a0a0a;
            --secondary-bg: #1a1a1a;
            --card-bg: #0f0f0f;
            --accent: #00ff88;
            --danger: #ff3366;
            --warning: #ffaa33;
            --text-primary: #ffffff;
            --text-secondary: #888888;
            --border-color: #2a2a2a;
            --success: #00ff88;
            --info: #3388ff;
            --card-shadow: 0 4px 24px rgba(0, 0, 0, 0.3);
            --hover-shadow: 0 8px 32px rgba(0, 255, 136, 0.15);
        }

        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--primary-bg);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--secondary-bg);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 5px;
            transition: background 0.3s ease;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent);
        }

        /* Animated Background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: 
                radial-gradient(circle at 10% 20%, rgba(0, 255, 136, 0.03) 0%, transparent 40%),
                radial-gradient(circle at 80% 80%, rgba(51, 136, 255, 0.02) 0%, transparent 40%),
                radial-gradient(circle at 40% 40%, rgba(255, 51, 102, 0.02) 0%, transparent 40%);
            animation: bgShift 30s ease-in-out infinite;
        }

        @keyframes bgShift {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.1) rotate(5deg); }
        }

        /* Grid Background Pattern */
        .grid-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.03;
            background-image: 
                linear-gradient(rgba(0, 255, 136, 0.2) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 136, 0.2) 1px, transparent 1px);
            background-size: 50px 50px;
        }

        /* Header - Improved */
        .header {
            background: rgba(15, 15, 15, 0.95);
            backdrop-filter: blur(20px);
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.5);
        }

        .header-content {
            max-width: 1920px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent);
            text-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
        }

        .logo-icon {
            font-size: 2rem;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); filter: brightness(1); }
            50% { transform: scale(1.05); filter: brightness(1.2); }
        }

        .header-center {
            display: flex;
            align-items: center;
            gap: 3rem;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
        }

        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            padding: 0.5rem 0;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--accent);
            transition: width 0.3s ease;
        }

        .nav-link:hover {
            color: var(--accent);
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .nav-link.active {
            color: var(--accent);
        }

        .nav-link.active::after {
            width: 100%;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .header-stats {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .stat-badge {
            background: rgba(0, 255, 136, 0.05);
            border: 1px solid rgba(0, 255, 136, 0.2);
            padding: 0.6rem 1.2rem;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 0.6rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .stat-badge:hover {
            background: rgba(0, 255, 136, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 255, 136, 0.2);
        }

        .stat-badge-value {
            font-weight: 600;
            font-size: 1rem;
        }

        .stat-badge-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* User Menu - Improved */
        .user-menu {
            position: relative;
        }

        .user-button {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            padding: 0.6rem 1.2rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .user-button:hover {
            border-color: var(--accent);
            background: rgba(0, 255, 136, 0.05);
            transform: translateY(-2px);
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, var(--accent), #00cc70);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--primary-bg);
            font-size: 0.9rem;
        }

        .user-info {
            text-align: right;
        }

        .user-name {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .user-role {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 0.5rem;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            min-width: 220px;
            display: none;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            animation: dropdownSlide 0.3s ease;
        }

        @keyframes dropdownSlide {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .user-dropdown.active {
            display: block;
        }

        .dropdown-header {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            background: rgba(0, 255, 136, 0.05);
        }

        .dropdown-email {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .dropdown-item {
            padding: 0.75rem 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--text-primary);
            text-decoration: none;
            font-size: 0.9rem;
        }

        .dropdown-item:hover {
            background: rgba(0, 255, 136, 0.05);
            padding-left: 1.5rem;
        }

        .dropdown-divider {
            height: 1px;
            background: var(--border-color);
            margin: 0;
        }

        .dropdown-item.logout {
            color: var(--danger);
        }

        /* Main Layout */
        .main-container {
            display: flex;
            max-width: 1920px;
            margin: 0 auto;
            min-height: calc(100vh - 70px);
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: rgba(15, 15, 15, 0.5);
            border-right: 1px solid var(--border-color);
            padding: 2rem 0;
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }

        .sidebar-section {
            margin-bottom: 2rem;
        }

        .sidebar-title {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 0 1.5rem;
            margin-bottom: 1rem;
        }

        .sidebar-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1.5rem;
            color: var(--text-primary);
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            font-size: 0.95rem;
            cursor: pointer;
        }

        .sidebar-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: var(--accent);
            transform: scaleY(0);
            transition: transform 0.3s ease;
        }

        .sidebar-item:hover {
            background: rgba(0, 255, 136, 0.05);
            color: var(--accent);
        }

        .sidebar-item:hover::before {
            transform: scaleY(1);
        }

        .sidebar-item.active {
            background: rgba(0, 255, 136, 0.1);
            color: var(--accent);
        }

        .sidebar-item.active::before {
            transform: scaleY(1);
        }

        .sidebar-badge {
            margin-left: auto;
            background: var(--accent);
            color: var(--primary-bg);
            font-size: 0.75rem;
            padding: 0.2rem 0.5rem;
            border-radius: 10px;
            font-weight: 600;
        }

        .sidebar-badge.danger {
            background: var(--danger);
            color: white;
        }

        .sidebar-badge.warning {
            background: var(--warning);
            color: var(--primary-bg);
        }

        /* Content Area */
        .content {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Quick Stats Cards */
        .quick-stats {
            grid-column: span 12;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: var(--card-shadow);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
            animation: scan 3s linear infinite;
        }

        @keyframes scan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--hover-shadow);
            border-color: rgba(0, 255, 136, 0.3);
        }

        .stat-card-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .stat-card-icon {
            width: 48px;
            height: 48px;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .stat-card-change {
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .stat-card-change.positive {
            color: var(--success);
        }

        .stat-card-change.negative {
            color: var(--danger);
        }

        .stat-card h3 {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-value {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            line-height: 1;
        }

        .stat-value.accent {
            color: var(--accent);
            text-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
        }

        .stat-subtitle {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .stat-chart {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 120px;
            height: 60px;
            opacity: 0.1;
        }

        /* Full Width Cards */
        .card-full {
            grid-column: span 12;
        }

        .card-half {
            grid-column: span 6;
        }

        .card-third {
            grid-column: span 4;
        }

        .card-two-thirds {
            grid-column: span 8;
        }

        /* Card Styles */
        .card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: var(--card-shadow);
            transition: all 0.3s ease;
        }

        .card:hover {
            box-shadow: var(--hover-shadow);
            border-color: rgba(0, 255, 136, 0.2);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .card-actions {
            display: flex;
            gap: 0.5rem;
        }

        /* World Map */
        .world-map-container {
            position: relative;
            height: 500px;
            background: 
                radial-gradient(ellipse at center, rgba(0, 255, 136, 0.05) 0%, transparent 70%),
                url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwMCIgaGVpZ2h0PSI2MDAiIHZpZXdCb3g9IjAgMCAxMjAwIDYwMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEwMCA1MDBMNDAwIDIwMEw3MDAgMzAwTDEwMDAgMTAwIiBzdHJva2U9IiMyYTJhMmEiIHN0cm9rZS13aWR0aD0iMiIvPgo8Y2lyY2xlIGN4PSI0MDAiIGN5PSIyMDAiIHI9IjEwIiBmaWxsPSIjMmEyYTJhIi8+CjxjaXJjbGUgY3g9IjcwMCIgY3k9IjMwMCIgcj0iMTAiIGZpbGw9IiMyYTJhMmEiLz4KPGNpcmNsZSBjeD0iMTAwMCIgY3k9IjEwMCIgcj0iMTAiIGZpbGw9IiMyYTJhMmEiLz4KPC9zdmc+') center/cover no-repeat;
            border-radius: 12px;
            overflow: hidden;
        }

        .map-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(ellipse at center, transparent 0%, rgba(10, 10, 10, 0.4) 100%);
            pointer-events: none;
        }

        .map-controls {
            position: absolute;
            top: 1rem;
            right: 1rem;
            display: flex;
            gap: 0.5rem;
            background: rgba(15, 15, 15, 0.9);
            padding: 0.5rem;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .map-control-btn {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .map-control-btn:hover {
            background: rgba(0, 255, 136, 0.1);
            border-color: var(--accent);
            color: var(--accent);
        }

        .map-control-btn.active {
            background: var(--accent);
            color: var(--primary-bg);
            border-color: var(--accent);
        }

        .map-stats-overlay {
            position: absolute;
            bottom: 1rem;
            left: 1rem;
            background: rgba(15, 15, 15, 0.95);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1rem 1.5rem;
            backdrop-filter: blur(10px);
            display: flex;
            gap: 2rem;
        }

        .map-stat {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .map-stat-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .map-stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .map-stat-value {
            font-weight: 600;
            color: var(--text-primary);
            margin-left: 0.25rem;
        }

        /* Agent Grid */
        .agent-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 1.5rem;
        }

        .agent-card {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .agent-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 136, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .agent-card:hover::after {
            left: 100%;
        }

        .agent-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            border-color: rgba(0, 255, 136, 0.3);
        }

        .agent-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .agent-id {
            font-weight: 600;
            color: var(--accent);
            font-size: 0.9rem;
        }

        .agent-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .agent-status.active {
            background: rgba(0, 255, 136, 0.1);
            color: var(--success);
            border: 1px solid rgba(0, 255, 136, 0.3);
        }

        .agent-status.warning {
            background: rgba(255, 170, 51, 0.1);
            color: var(--warning);
            border: 1px solid rgba(255, 170, 51, 0.3);
        }

        .agent-status.inactive {
            background: rgba(255, 51, 102, 0.1);
            color: var(--danger);
            border: 1px solid rgba(255, 51, 102, 0.3);
        }

        .status-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: currentColor;
            animation: blink 2s ease-in-out infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .agent-info {
            margin-bottom: 1rem;
        }

        .agent-name {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 0.25rem;
        }

        .agent-location {
            color: var(--text-secondary);
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .agent-metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }

        .agent-metric {
            text-align: center;
        }

        .metric-value {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--accent);
        }

        .metric-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 0.25rem;
        }

        /* Live Activity Feed */
        .activity-feed {
            height: 400px;
            overflow-y: auto;
            padding-right: 0.5rem;
        }

        .activity-item {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            background: var(--secondary-bg);
            border-radius: 10px;
            margin-bottom: 0.75rem;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .activity-item:hover {
            transform: translateX(4px);
            background: rgba(0, 255, 136, 0.05);
        }

        .activity-item.success {
            border-left-color: var(--success);
        }

        .activity-item.warning {
            border-left-color: var(--warning);
        }

        .activity-item.danger {
            border-left-color: var(--danger);
        }

        .activity-item.info {
            border-left-color: var(--info);
        }

        .activity-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            font-size: 1rem;
        }

        .activity-icon.success {
            background: rgba(0, 255, 136, 0.1);
            color: var(--success);
        }

        .activity-icon.warning {
            background: rgba(255, 170, 51, 0.1);
            color: var(--warning);
        }

        .activity-icon.danger {
            background: rgba(255, 51, 102, 0.1);
            color: var(--danger);
        }

        .activity-icon.info {
            background: rgba(51, 136, 255, 0.1);
            color: var(--info);
        }

        .activity-content {
            flex: 1;
        }

        .activity-message {
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
        }

        .activity-time {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        /* Performance Chart */
        .performance-chart {
            height: 300px;
            position: relative;
            padding: 1rem;
        }

        .chart-grid {
            position: absolute;
            top: 1rem;
            left: 1rem;
            right: 1rem;
            bottom: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .chart-line {
            height: 1px;
            background: var(--border-color);
            position: relative;
        }

        .chart-label {
            position: absolute;
            left: -40px;
            top: -8px;
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        /* Table Styles */
        .data-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        .data-table th {
            background: var(--secondary-bg);
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            font-size: 0.85rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .data-table tr {
            transition: all 0.3s ease;
        }

        .data-table tbody tr:hover {
            background: rgba(0, 255, 136, 0.05);
        }

        .data-table td {
            padding: 1rem;
            border-bottom: 1px solid rgba(42, 42, 42, 0.5);
            font-size: 0.9rem;
        }

        /* Button Styles */
        .btn {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 0.6rem 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.85rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn:hover {
            background: var(--accent);
            color: var(--primary-bg);
            border-color: var(--accent);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 255, 136, 0.3);
        }

        .btn-primary {
            background: var(--accent);
            color: var(--primary-bg);
            border-color: var(--accent);
        }

        .btn-primary:hover {
            background: #00cc70;
            border-color: #00cc70;
            box-shadow: 0 4px 20px rgba(0, 255, 136, 0.4);
        }

        .btn-danger {
            border-color: var(--danger);
            color: var(--danger);
        }

        .btn-danger:hover {
            background: var(--danger);
            border-color: var(--danger);
            color: white;
            box-shadow: 0 4px 12px rgba(255, 51, 102, 0.3);
        }

        .btn-sm {
            padding: 0.4rem 0.8rem;
            font-size: 0.8rem;
        }

        .btn-icon {
            width: 36px;
            height: 36px;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
        }

        /* Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            backdrop-filter: blur(10px);
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalSlide 0.3s ease;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        @keyframes modalSlide {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .modal-close {
            cursor: pointer;
            font-size: 1.5rem;
            color: var(--text-secondary);
            transition: all 0.3s ease;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
        }

        .modal-close:hover {
            color: var(--danger);
            background: rgba(255, 51, 102, 0.1);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .form-input,
        .form-select {
            width: 100%;
            padding: 0.75rem 1rem;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .form-input:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(0, 255, 136, 0.1);
        }

        /* Floating Action Button */
        .fab {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 56px;
            height: 56px;
            background: var(--accent);
            color: var(--primary-bg);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(0, 255, 136, 0.4);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .fab:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(0, 255, 136, 0.6);
        }

        /* Animations */
        @keyframes fadeOut {
            to {
                opacity: 0;
                transform: translateX(-100%);
            }
        }

        /* Responsive */
        @media (max-width: 1400px) {
            .card-half {
                grid-column: span 12;
            }
            
            .card-third {
                grid-column: span 6;
            }
            
            .card-two-thirds {
                grid-column: span 12;
            }
        }

        @media (max-width: 1200px) {
            .sidebar {
                width: 240px;
            }
            
            .nav-links {
                display: none;
            }
        }

        @media (max-width: 992px) {
            .main-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                position: static;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
                padding: 1rem 0;
            }
            
            .card-third {
                grid-column: span 12;
            }
            
            .agent-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .header-stats {
                display: none;
            }
            
            .quick-stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="bg-animation"></div>
    <div class="grid-bg"></div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <span class="logo-icon">🛡️</span>
                AI SENTINEL-X
            </div>
            
            <nav class="nav-links">
                <a href="#" class="nav-link active">Dashboard</a>
                <a href="#" class="nav-link">Agents</a>
                <a href="#" class="nav-link">Analytics</a>
                <a href="#" class="nav-link">Threats</a>
                <a href="#" class="nav-link">Reports</a>
            </nav>

            <div class="header-right">
                <div class="header-stats">
                    <div class="stat-badge">
                        <div>
                            <div class="stat-badge-value">2,847</div>
                            <div class="stat-badge-label">Global Agents</div>
                        </div>
                    </div>
                    <div class="stat-badge">
                        <div>
                            <div class="stat-badge-value">$487K</div>
                            <div class="stat-badge-label">MRR</div>
                        </div>
                    </div>
                </div>
                
                <div class="user-menu">
                    <div class="user-button" onclick="toggleUserMenu()">
                        <div class="user-avatar">SA</div>
                        <div class="user-info">
                            <div class="user-name">Super Admin</div>
                            <div class="user-role">System Administrator</div>
                        </div>
                        <span style="color: var(--text-secondary); font-size: 0.75rem;">▼</span>
                    </div>
                    <div class="user-dropdown" id="userDropdown">
                        <div class="dropdown-header">
                            <div>
                                <div class="user-name">Super Admin</div>
                                <div class="dropdown-email">admin@aisentinel-x.com</div>
                            </div>
                        </div>
                        <a href="#" class="dropdown-item" onclick="showProfile()">
                            <span>👤</span> Profile
                        </a>
                        <a href="#" class="dropdown-item" onclick="showSettings()">
                            <span>⚙️</span> Settings
                        </a>
                        <a href="#" class="dropdown-item" onclick="showApiKeys()">
                            <span>🔑</span> API Keys
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item" onclick="showActivityLog()">
                            <span>📋</span> Activity Log
                        </a>
                        <a href="#" class="dropdown-item" onclick="downloadReport()">
                            <span>📊</span> Download Report
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="index.html" class="dropdown-item logout" onclick="logout()">
                            <span>🚪</span> Logout
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <div class="sidebar-title">Main</div>
                <a href="#" class="sidebar-item active" onclick="showDashboard()">
                    <span>📊</span> Dashboard
                    <span class="sidebar-badge">Live</span>
                </a>
                <a href="#" class="sidebar-item" onclick="showAgents()">
                    <span>🤖</span> Agents
                    <span class="sidebar-badge">2,847</span>
                </a>
                <a href="#" class="sidebar-item" onclick="showThreats()">
                    <span>🛡️</span> Threats
                    <span class="sidebar-badge danger">47</span>
                </a>
            </div>
            
            <div class="sidebar-section">
                <div class="sidebar-title">Operations</div>
                <a href="#" class="sidebar-item" onclick="showDeployments()">
                    <span>🚀</span> Deployments
                </a>
                <a href="#" class="sidebar-item" onclick="showMaintenance()">
                    <span>🔧</span> Maintenance
                    <span class="sidebar-badge warning">3</span>
                </a>
                <a href="#" class="sidebar-item" onclick="showBackups()">
                    <span>💾</span> Backups
                </a>
            </div>
            
            <div class="sidebar-section">
                <div class="sidebar-title">Analytics</div>
                <a href="#" class="sidebar-item" onclick="showPerformance()">
                    <span>⚡</span> Performance
                </a>
                <a href="#" class="sidebar-item" onclick="showFinancials()">
                    <span>💰</span> Financials
                </a>
                <a href="#" class="sidebar-item" onclick="showReports()">
                    <span>📈</span> Reports
                </a>
            </div>
            
            <div class="sidebar-section">
                <div class="sidebar-title">Support</div>
                <a href="#" class="sidebar-item" onclick="showTickets()">
                    <span>🎫</span> Tickets
                    <span class="sidebar-badge">23</span>
                </a>
                <a href="#" class="sidebar-item" onclick="showDocumentation()">
                    <span>📚</span> Documentation
                </a>
            </div>
        </aside>

        <!-- Content Area -->
        <main class="content">
            <!-- Quick Stats -->
            <div class="quick-stats">
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-card-icon">🤖</div>
                        <div class="stat-card-change positive">
                            <span>↑</span> 12%
                        </div>
                    </div>
                    <h3>Active Agents</h3>
                    <div class="stat-value accent">2,483</div>
                    <div class="stat-subtitle">87.3% of total fleet</div>
                    <canvas class="stat-chart" id="activeChart"></canvas>
                </div>
                
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-card-icon">🛡️</div>
                        <div class="stat-card-change positive">
                            <span>↑</span> 23%
                        </div>
                    </div>
                    <h3>Threats Blocked</h3>
                    <div class="stat-value">14.2M</div>
                    <div class="stat-subtitle">Today's total</div>
                    <canvas class="stat-chart" id="threatsChart"></canvas>
                </div>
                
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-card-icon">💚</div>
                        <div class="stat-card-change positive">
                            <span>→</span> 0%
                        </div>
                    </div>
                    <h3>System Health</h3>
                    <div class="stat-value">99.98%</div>
                    <div class="stat-subtitle">All systems operational</div>
                    <canvas class="stat-chart" id="healthChart"></canvas>
                </div>
                
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-card-icon">💰</div>
                        <div class="stat-card-change positive">
                            <span>↑</span> 18%
                        </div>
                    </div>
                    <h3>Monthly Revenue</h3>
                    <div class="stat-value">$487K</div>
                    <div class="stat-subtitle">847 active customers</div>
                    <canvas class="stat-chart" id="revenueChart"></canvas>
                </div>
            </div>

            <!-- Dashboard Grid -->
            <div class="dashboard-grid">
                <!-- World Map -->
                <div class="card card-two-thirds">
                    <div class="card-header">
                        <h2 class="card-title">
                            <span>🌍</span> Global Agent Distribution
                        </h2>
                        <div class="card-actions">
                            <div class="map-controls" style="position: static; background: none; padding: 0;">
                                <button class="map-control-btn active" onclick="filterMap('all')">All</button>
                                <button class="map-control-btn" onclick="filterMap('active')">Active</button>
                                <button class="map-control-btn" onclick="filterMap('warning')">Warnings</button>
                                <button class="map-control-btn" onclick="filterMap('inactive')">Inactive</button>
                            </div>
                        </div>
                    </div>
                    <div class="world-map-container" id="worldMap">
                        <div class="map-overlay"></div>
                        <div class="map-stats-overlay">
                            <div class="map-stat">
                                <div class="map-stat-dot" style="background: var(--success);"></div>
                                <span class="map-stat-label">Active:</span>
                                <span class="map-stat-value">2,483</span>
                            </div>
                            <div class="map-stat">
                                <div class="map-stat-dot" style="background: var(--warning);"></div>
                                <span class="map-stat-label">Warning:</span>
                                <span class="map-stat-value">317</span>
                            </div>
                            <div class="map-stat">
                                <div class="map-stat-dot" style="background: var(--danger);"></div>
                                <span class="map-stat-label">Inactive:</span>
                                <span class="map-stat-value">47</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Live Activity -->
                <div class="card card-third">
                    <div class="card-header">
                        <h2 class="card-title">
                            <span>⚡</span> Live Activity
                        </h2>
                        <button class="btn btn-sm">View All</button>
                    </div>
                    <div class="activity-feed" id="activityFeed">
                        <!-- Activity items will be dynamically generated -->
                    </div>
                </div>

                <!-- Top Agents -->
                <div class="card card-half">
                    <div class="card-header">
                        <h2 class="card-title">
                            <span>🏆</span> Top Performing Agents
                        </h2>
                        <button class="btn btn-sm" onclick="showAllAgents()">View All</button>
                    </div>
                    <div class="agent-grid">
                        <!-- Agent cards will be dynamically generated -->
                    </div>
                </div>

                <!-- System Performance -->
                <div class="card card-half">
                    <div class="card-header">
                        <h2 class="card-title">
                            <span>📈</span> System Performance
                        </h2>
                        <select class="form-select" style="width: auto;">
                            <option>Last 24 Hours</option>
                            <option>Last 7 Days</option>
                            <option>Last 30 Days</option>
                        </select>
                    </div>
                    <div class="performance-chart">
                        <div class="chart-grid">
                            <div class="chart-line"><span class="chart-label">100%</span></div>
                            <div class="chart-line"><span class="chart-label">75%</span></div>
                            <div class="chart-line"><span class="chart-label">50%</span></div>
                            <div class="chart-line"><span class="chart-label">25%</span></div>
                            <div class="chart-line"><span class="chart-label">0%</span></div>
                        </div>
                    </div>
                </div>

                <!-- Critical Alerts -->
                <div class="card card-full">
                    <div class="card-header">
                        <h2 class="card-title">
                            <span>🚨</span> Critical Alerts
                        </h2>
                        <button class="btn btn-sm" onclick="clearAllAlerts()">Clear All</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Type</th>
                                <th>Agent</th>
                                <th>Location</th>
                                <th>Message</th>
                                <th>Time</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="alertsTable">
                            <!-- Alert rows will be dynamically generated -->
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <!-- Floating Action Button -->
    <div class="fab" onclick="openCommandCenter()">⚡</div>

    <!-- Modal -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Modal Title</h2>
                <span class="modal-close" onclick="closeModal()">×</span>
            </div>
            <div id="modalBody">
                <!-- Modal content will be inserted here -->
            </div>
        </div>
    </div>

    <script>
        // Initialize dashboard
        function initDashboard() {
            // Check if user is logged in
            if (!sessionStorage.getItem('loggedIn')) {
                window.location.href = 'index.html';
                return;
            }

            // Mark as logged in
            sessionStorage.setItem('loggedIn', 'true');
            sessionStorage.setItem('lastActivity', new Date().toISOString());

            // Initialize components
            renderActivityFeed();
            renderAgentCards();
            renderAlerts();
            startLiveUpdates();
            initCharts();
        }

        // User menu toggle
        function toggleUserMenu() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.classList.toggle('active');
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(e) {
            const userMenu = document.querySelector('.user-menu');
            if (!userMenu.contains(e.target)) {
                document.getElementById('userDropdown').classList.remove('active');
            }
        });

        // Logout function
        function logout() {
            sessionStorage.removeItem('loggedIn');
            sessionStorage.removeItem('lastActivity');
        }

        // Activity Feed
        const activities = [
            { type: 'success', icon: '✓', message: 'Agent SX-001 successfully updated', time: 'Just now' },
            { type: 'warning', icon: '⚠', message: 'High CPU usage detected on SX-003', time: '2 min ago' },
            { type: 'danger', icon: '✕', message: 'Failed login attempt for SX-005', time: '5 min ago' },
            { type: 'info', icon: 'ℹ', message: 'Scheduled maintenance completed', time: '10 min ago' },
            { type: 'success', icon: '✓', message: 'Backup process completed', time: '15 min ago' },
            { type: 'warning', icon: '⚠', message: 'Certificate expiring soon for SX-007', time: '20 min ago' }
        ];

        function renderActivityFeed() {
            const feed = document.getElementById('activityFeed');
            feed.innerHTML = activities.map((activity, index) => `
                <div class="activity-item ${activity.type}" style="animation-delay: ${index * 0.1}s">
                    <div class="activity-icon ${activity.type}">${activity.icon}</div>
                    <div class="activity-content">
                        <div class="activity-message">${activity.message}</div>
                        <div class="activity-time">${activity.time}</div>
                    </div>
                </div>
            `).join('');
        }

        // Agent Cards
        const topAgents = [
            { id: 'SX-001', name: 'TechCorp Inc', location: 'New York, US', status: 'active', threats: '12.4K', cpu: '23%', uptime: '99.9%' },
            { id: 'SX-002', name: 'CyberShield LLC', location: 'London, UK', status: 'active', threats: '8.7K', cpu: '18%', uptime: '99.8%' },
            { id: 'SX-007', name: 'NetDefender', location: 'Singapore, SG', status: 'active', threats: '11.2K', cpu: '31%', uptime: '99.7%' }
        ];

        function renderAgentCards() {
            const container = document.querySelector('.agent-grid');
            container.innerHTML = topAgents.map(agent => `
                <div class="agent-card" onclick="viewAgent('${agent.id}')">
                    <div class="agent-header">
                        <span class="agent-id">${agent.id}</span>
                        <span class="agent-status ${agent.status}">
                            <span class="status-dot"></span>
                            ${agent.status}
                        </span>
                    </div>
                    <div class="agent-info">
                        <div class="agent-name">${agent.name}</div>
                        <div class="agent-location">📍 ${agent.location}</div>
                    </div>
                    <div class="agent-metrics">
                        <div class="agent-metric">
                            <div class="metric-value">${agent.threats}</div>
                            <div class="metric-label">Threats/Hr</div>
                        </div>
                        <div class="agent-metric">
                            <div class="metric-value">${agent.cpu}</div>
                            <div class="metric-label">CPU Usage</div>
                        </div>
                        <div class="agent-metric">
                            <div class="metric-value">${agent.uptime}</div>
                            <div class="metric-label">Uptime</div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Alerts Table
        const alerts = [
            { type: 'danger', agent: 'SX-005', location: 'Berlin, DE', message: 'Agent offline for 2 hours', time: '2 min ago' },
            { type: 'warning', agent: 'SX-003', location: 'Tokyo, JP', message: 'DDoS attack detected', time: '15 min ago' },
            { type: 'danger', agent: 'SX-008', location: 'Dubai, AE', message: 'Critical security breach attempt', time: '1 hour ago' }
        ];

        function renderAlerts() {
            const tbody = document.getElementById('alertsTable');
            tbody.innerHTML = alerts.map(alert => `
                <tr>
                    <td><span class="agent-status ${alert.type}"><span class="status-dot"></span> ${alert.type}</span></td>
                    <td><strong>${alert.agent}</strong></td>
                    <td>${alert.location}</td>
                    <td>${alert.message}</td>
                    <td>${alert.time}</td>
                    <td>
                        <button class="btn btn-sm" onclick="viewAlert('${alert.agent}')">View</button>
                        <button class="btn btn-sm btn-danger" onclick="dismissAlert(this)">Dismiss</button>
                    </td>
                </tr>
            `).join('');
        }

        // Initialize Charts (placeholder)
        function initCharts() {
            // In a real implementation, you would use Chart.js or similar
            console.log('Charts initialized');
        }

        // Live Updates
        function startLiveUpdates() {
            setInterval(() => {
                // Add new activity
                const newActivity = {
                    type: ['success', 'warning', 'info', 'danger'][Math.floor(Math.random() * 4)],
                    icon: ['✓', '⚠', 'ℹ', '✕'][Math.floor(Math.random() * 4)],
                    message: 'System update: ' + Math.random().toString(36).substr(2, 9),
                    time: 'Just now'
                };
                
                activities.unshift(newActivity);
                activities.pop();
                renderActivityFeed();

                // Update stats
                document.querySelectorAll('.stat-value').forEach(el => {
                    if (el.textContent.includes('K') || el.textContent.includes('M')) {
                        const current = parseFloat(el.textContent);
                        const change = (Math.random() - 0.5) * 0.1;
                        el.textContent = (current + change).toFixed(1) + el.textContent.slice(-1);
                    }
                });
            }, 5000);
        }

        // Modal Functions
        function showModal(title, content) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalBody').innerHTML = content;
            document.getElementById('modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        // Command Center
        function openCommandCenter() {
            showModal('🎮 Command Center', `
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                    <button class="btn btn-primary" style="padding: 2rem; font-size: 1.1rem;" onclick="massUpdate()">
                        <span style="font-size: 2rem; display: block; margin-bottom: 0.5rem;">🔄</span>
                        Mass Update
                    </button>
                    <button class="btn btn-danger" style="padding: 2rem; font-size: 1.1rem;" onclick="emergencyShutdown()">
                        <span style="font-size: 2rem; display: block; margin-bottom: 0.5rem;">🚨</span>
                        Emergency Shutdown
                    </button>
                    <button class="btn" style="padding: 2rem; font-size: 1.1rem;" onclick="deployNewAgent()">
                        <span style="font-size: 2rem; display: block; margin-bottom: 0.5rem;">🚀</span>
                        Deploy New Agent
                    </button>
                    <button class="btn" style="padding: 2rem; font-size: 1.1rem;" onclick="generateReport()">
                        <span style="font-size: 2rem; display: block; margin-bottom: 0.5rem;">📊</span>
                        Generate Report
                    </button>
                </div>
            `);
        }

        // Action Functions
        function viewAgent(id) {
            showModal(`Agent Details: ${id}`, `
                <div class="form-group">
                    <label class="form-label">Agent Information</label>
                    <div style="background: var(--secondary-bg); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                            <div>
                                <strong>Status:</strong> <span class="agent-status active"><span class="status-dot"></span> Active</span>
                            </div>
                            <div>
                                <strong>Location:</strong> New York, US
                            </div>
                            <div>
                                <strong>Uptime:</strong> 99.98%
                            </div>
                            <div>
                                <strong>Last Check:</strong> 2 min ago
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Performance Metrics</label>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; text-align: center;">
                        <div style="background: var(--secondary-bg); padding: 1rem; border-radius: 8px;">
                            <div style="font-size: 1.5rem; font-weight: 600; color: var(--accent);">12.4K</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">Threats/Hour</div>
                        </div>
                        <div style="background: var(--secondary-bg); padding: 1rem; border-radius: 8px;">
                            <div style="font-size: 1.5rem; font-weight: 600; color: var(--accent);">23%</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">CPU Usage</div>
                        </div>
                        <div style="background: var(--secondary-bg); padding: 1rem; border-radius: 8px;">
                            <div style="font-size: 1.5rem; font-weight: 600; color: var(--accent);">847MB</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">Memory</div>
                        </div>
                    </div>
                </div>
                <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                    <button class="btn btn-primary" onclick="closeModal()">Close</button>
                    <button class="btn btn-danger" onclick="toggleAgent('${id}')">Disable Agent</button>
                </div>
            `);
        }

        function massUpdate() {
            showModal('🔄 Mass Update', `
                <form onsubmit="event.preventDefault(); deployMassUpdate();">
                    <div class="form-group">
                        <label class="form-label">Update Type</label>
                        <select class="form-select" required>
                            <option value="">Select update type...</option>
                            <option value="security">Security Patch v2.2.1</option>
                            <option value="feature">Feature Update v2.3.0</option>
                            <option value="critical">Critical Hotfix v2.2.0a</option>
                            <option value="quantum">Quantum Encryption Update</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Target Agents</label>
                        <select class="form-select" required>
                            <option value="all">All Agents (2,847)</option>
                            <option value="active">Active Agents Only (2,483)</option>
                            <option value="region">By Region</option>
                            <option value="custom">Custom Selection</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Deployment Strategy</label>
                        <select class="form-select" required>
                            <option value="rolling">Rolling Update (Recommended)</option>
                            <option value="canary">Canary Deployment (10% first)</option>
                            <option value="immediate">Immediate (All at once)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Schedule</label>
                        <input type="datetime-local" class="form-input" value="${new Date().toISOString().slice(0, 16)}">
                    </div>
                    <div style="background: rgba(255, 170, 51, 0.1); border: 1px solid var(--warning); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                        <strong>⚠️ Warning:</strong> This will update all selected agents. Ensure you have tested the update in staging.
                    </div>
                    <div style="display: flex; gap: 1rem;">
                        <button type="submit" class="btn btn-primary">Deploy Update</button>
                        <button type="button" class="btn" onclick="closeModal()">Cancel</button>
                    </div>
                </form>
            `);
        }

        function deployMassUpdate() {
            closeModal();
            showModal('🚀 Update Deployed', `
                <div style="text-align: center; padding: 2rem;">
                    <div style="font-size: 4rem; margin-bottom: 1rem;">✓</div>
                    <h3 style="margin-bottom: 1rem;">Mass update initiated successfully!</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 2rem;">
                        Update deployment has started for 2,847 agents.<br>
                        Estimated completion time: 15 minutes
                    </p>
                    <button class="btn btn-primary" onclick="closeModal()">Close</button>
                </div>
            `);
        }

        function emergencyShutdown() {
            showModal('🚨 Emergency Shutdown', `
                <div style="background: rgba(255, 51, 102, 0.1); border: 1px solid var(--danger); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
                    <h3 style="color: var(--danger); margin-bottom: 0.5rem;">⚠️ CRITICAL ACTION</h3>
                    <p>This will immediately disable ALL agents globally. This action should only be used in extreme circumstances.</p>
                </div>
                <div class="form-group">
                    <label class="form-label">Reason for shutdown</label>
                    <select class="form-select" required id="shutdownReason">
                        <option value="">Select reason...</option>
                        <option value="breach">Security breach detected</option>
                        <option value="attack">Coordinated attack</option>
                        <option value="vulnerability">Critical vulnerability</option>
                        <option value="other">Other emergency</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Type "SHUTDOWN" to confirm</label>
                    <input type="text" class="form-input" id="shutdownConfirm" placeholder="Type SHUTDOWN to confirm">
                </div>
                <div style="display: flex; gap: 1rem;">
                    <button class="btn btn-danger" onclick="executeShutdown()">Execute Emergency Shutdown</button>
                    <button class="btn" onclick="closeModal()">Cancel</button>
                </div>
            `);
        }

        function executeShutdown() {
            const reason = document.getElementById('shutdownReason').value;
            const confirm = document.getElementById('shutdownConfirm').value;
            
            if (!reason) {
                alert('Please select a reason for shutdown');
                return;
            }
            
            if (confirm !== 'SHUTDOWN') {
                alert('Please type SHUTDOWN to confirm');
                return;
            }
            
            closeModal();
            showModal('🚨 Shutdown Executed', `
                <div style="text-align: center; padding: 2rem;">
                    <div style="font-size: 4rem; margin-bottom: 1rem; color: var(--danger);">⚠️</div>
                    <h3 style="margin-bottom: 1rem; color: var(--danger);">Emergency shutdown executed</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 2rem;">
                        All 2,847 agents have been disabled.<br>
                        Incident logged and team notified.
                    </p>
                    <button class="btn btn-primary" onclick="closeModal()">Close</button>
                </div>
            `);
        }

        function deployNewAgent() {
            showModal('🚀 Deploy New Agent', `
                <form onsubmit="event.preventDefault(); submitNewAgent();">
                    <div class="form-group">
                        <label class="form-label">Customer Name</label>
                        <input type="text" class="form-input" placeholder="Enter customer name" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Deployment Location</label>
                        <select class="form-select" required>
                            <option value="">Select region...</option>
                            <option value="us-east">US East (Virginia)</option>
                            <option value="us-west">US West (Oregon)</option>
                            <option value="eu-west">EU West (Ireland)</option>
                            <option value="eu-central">EU Central (Frankfurt)</option>
                            <option value="ap-south">Asia Pacific (Singapore)</option>
                            <option value="ap-northeast">Asia Pacific (Tokyo)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">License Type</label>
                        <select class="form-select" required>
                            <option value="essential">Essential ($29/mo) - Single Server</option>
                            <option value="business">Business ($149/mo) - Multi-Site</option>
                            <option value="enterprise">Enterprise ($499/mo) - Global Infrastructure</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Encryption Configuration</label>
                        <select class="form-select" required>
                            <option value="hybrid">Hybrid (Classical + Quantum) - Recommended</option>
                            <option value="classical">Classical Only</option>
                            <option value="quantum">Quantum-Resistant Only</option>
                        </select>
                    </div>
                    <div style="display: flex; gap: 1rem;">
                        <button type="submit" class="btn btn-primary">Deploy Agent</button>
                        <button type="button" class="btn" onclick="closeModal()">Cancel</button>
                    </div>
                </form>
            `);
        }

        function submitNewAgent() {
            closeModal();
            showModal('✅ Agent Deployed', `
                <div style="text-align: center; padding: 2rem;">
                    <div style="font-size: 4rem; margin-bottom: 1rem; color: var(--success);">🚀</div>
                    <h3 style="margin-bottom: 1rem;">New agent deployed successfully!</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 1rem;">
                        Agent ID: <strong>SX-${Math.floor(Math.random() * 9000) + 1000}</strong>
                    </p>
                    <p style="color: var(--text-secondary); margin-bottom: 2rem;">
                        Deployment credentials have been sent to the customer email.<br>
                        The agent will appear in the dashboard once it comes online.
                    </p>
                    <button class="btn btn-primary" onclick="closeModal()">Close</button>
                </div>
            `);
        }

        function generateReport() {
            showModal('📊 Generate Report', `
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                    <div class="card" style="cursor: pointer; transition: all 0.3s ease;" onclick="generateFinancialReport()">
                        <div style="text-align: center; padding: 2rem;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">💰</div>
                            <h3>Financial Report</h3>
                            <p style="color: var(--text-secondary); font-size: 0.9rem;">Revenue, MRR, customer metrics</p>
                        </div>
                    </div>
                    <div class="card" style="cursor: pointer; transition: all 0.3s ease;" onclick="generateSecurityReport()">
                        <div style="text-align: center; padding: 2rem;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">🛡️</div>
                            <h3>Security Report</h3>
                            <p style="color: var(--text-secondary); font-size: 0.9rem;">Threats, vulnerabilities, incidents</p>
                        </div>
                    </div>
                    <div class="card" style="cursor: pointer; transition: all 0.3s ease;" onclick="generatePerformanceReport()">
                        <div style="text-align: center; padding: 2rem;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">⚡</div>
                            <h3>Performance Report</h3>
                            <p style="color: var(--text-secondary); font-size: 0.9rem;">System health, uptime, metrics</p>
                        </div>
                    </div>
                    <div class="card" style="cursor: pointer; transition: all 0.3s ease;" onclick="generateComplianceReport()">
                        <div style="text-align: center; padding: 2rem;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">✅</div>
                            <h3>Compliance Report</h3>
                            <p style="color: var(--text-secondary); font-size: 0.9rem;">SOC2, ISO27001, audit logs</p>
                        </div>
                    </div>
                </div>
            `);
        }

        function viewAlert(agent) {
            showModal(`Alert Details: ${agent}`, `
                <div class="form-group">
                    <label class="form-label">Alert Information</label>
                    <div style="background: var(--secondary-bg); padding: 1rem; border-radius: 8px;">
                        <div><strong>Type:</strong> Critical Security Breach Attempt</div>
                        <div><strong>Time:</strong> ${new Date().toLocaleString()}</div>
                        <div><strong>Source:</strong> 185.220.101.45 (Tor Exit Node)</div>
                        <div><strong>Attack Vector:</strong> SQL Injection</div>
                        <div><strong>Status:</strong> Blocked by AI Defense</div>
                    </div>
                </div>
                <div style="display: flex; gap: 1rem;">
                    <button class="btn btn-primary" onclick="closeModal()">Close</button>
                    <button class="btn" onclick="investigateAlert()">Investigate</button>
                </div>
            `);
        }

        function dismissAlert(btn) {
            const row = btn.closest('tr');
            row.style.animation = 'fadeOut 0.3s ease';
            setTimeout(() => row.remove(), 300);
        }

        function clearAllAlerts() {
            if (confirm('Clear all alerts? This action cannot be undone.')) {
                document.getElementById('alertsTable').innerHTML = `
                    <tr>
                        <td colspan="6" style="text-align: center; padding: 2rem; color: var(--text-secondary);">
                            No active alerts
                        </td>
                    </tr>
                `;
            }
        }

        // User Menu Functions
        function showProfile() {
            showModal('👤 Admin Profile', `
                <div style="text-align: center; margin-bottom: 2rem;">
                    <div style="width: 100px; height: 100px; background: linear-gradient(135deg, var(--accent), #00cc70); border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center; font-size: 3rem; color: var(--primary-bg);">SA</div>
                    <h3>Super Admin</h3>
                    <p style="color: var(--text-secondary);">admin@aisentinel-x.com</p>
                </div>
                <div style="display: grid; gap: 1rem;">
                    <div style="background: var(--secondary-bg); padding: 1rem; border-radius: 8px;">
                        <strong>Role:</strong> System Administrator
                    </div>
                    <div style="background: var(--secondary-bg); padding: 1rem; border-radius: 8px;">
                        <strong>Access Level:</strong> Full System Access
                    </div>
                    <div style="background: var(--secondary-bg); padding: 1rem; border-radius: 8px;">
                        <strong>Last Login:</strong> ${new Date().toLocaleString()}
                    </div>
                    <div style="background: var(--secondary-bg); padding: 1rem; border-radius: 8px;">
                        <strong>Session Duration:</strong> ${Math.floor(Math.random() * 120) + 30} minutes
                    </div>
                </div>
                <div style="margin-top: 2rem;">
                    <button class="btn btn-primary" onclick="closeModal()">Close</button>
                </div>
            `);
        }

        function showSettings() {
            showModal('⚙️ Settings', `
                <form onsubmit="event.preventDefault(); saveSettings();">
                    <div class="form-group">
                        <label class="form-label">Dashboard Refresh Rate</label>
                        <select class="form-select">
                            <option value="5">5 seconds</option>
                            <option value="10">10 seconds</option>
                            <option value="30" selected>30 seconds</option>
                            <option value="60">1 minute</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Notifications</label>
                        <div style="display: grid; gap: 0.5rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" checked> Critical alerts
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" checked> System updates
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox"> Performance reports
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" checked> Security incidents
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Theme</label>
                        <select class="form-select">
                            <option value="dark" selected>Dark Mode</option>
                            <option value="darker">Darker Mode</option>
                            <option value="midnight">Midnight Black</option>
                        </select>
                    </div>
                    <div style="display: flex; gap: 1rem;">
                        <button type="submit" class="btn btn-primary">Save Settings</button>
                        <button type="button" class="btn" onclick="closeModal()">Cancel</button>
                    </div>
                </form>
            `);
        }

        function saveSettings() {
            closeModal();
            // Show notification
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--success);
                color: var(--primary-bg);
                padding: 1rem 1.5rem;
                border-radius: 8px;
                box-shadow: 0 4px 20px rgba(0, 255, 136, 0.4);
                animation: slideIn 0.3s ease;
                z-index: 3000;
            `;
            notification.textContent = '✓ Settings saved successfully';
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        }

        function showApiKeys() {
            showModal('🔑 API Keys', `
                <div style="display: grid; gap: 1rem;">
                    <div style="background: var(--secondary-bg); padding: 1.5rem; border-radius: 8px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                            <strong>Production API Key</strong>
                            <button class="btn btn-sm" onclick="copyToClipboard('sk_live_****7a8b')">Copy</button>
                        </div>
                        <code style="font-family: monospace; color: var(--text-secondary);">
                            sk_live_****************************7a8b
                        </code>
                        <div style="margin-top: 0.5rem; font-size: 0.8rem; color: var(--text-secondary);">
                            Created: Jan 15, 2025 • Last used: 2 hours ago
                        </div>
                    </div>
                    <div style="background: var(--secondary-bg); padding: 1.5rem; border-radius: 8px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                            <strong>Test API Key</strong>
                            <button class="btn btn-sm" onclick="copyToClipboard('sk_test_****9c2d')">Copy</button>
                        </div>
                        <code style="font-family: monospace; color: var(--text-secondary);">
                            sk_test_****************************9c2d
                        </code>
                        <div style="margin-top: 0.5rem; font-size: 0.8rem; color: var(--text-secondary);">
                            Created: Jan 10, 2025 • Last used: Yesterday
                        </div>
                    </div>
                </div>
                <div style="margin-top: 2rem; display: flex; gap: 1rem;">
                    <button class="btn btn-primary" onclick="generateNewKey()">Generate New Key</button>
                    <button class="btn" onclick="closeModal()">Close</button>
                </div>
            `);
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text);
            // Show notification
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: var(--secondary-bg);
                color: var(--text-primary);
                padding: 1rem 1.5rem;
                border-radius: 8px;
                border: 1px solid var(--accent);
                animation: slideIn 0.3s ease;
                z-index: 3000;
            `;
            notification.textContent = '✓ Copied to clipboard';
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 2000);
        }

        function showActivityLog() {
            showModal('📋 Activity Log', `
                <div style="max-height: 400px; overflow-y: auto;">
                    ${[...Array(10)].map((_, i) => `
                        <div style="background: var(--secondary-bg); padding: 1rem; border-radius: 8px; margin-bottom: 0.5rem;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <strong>${new Date(Date.now() - i * 3600000).toLocaleTimeString()}</strong>
                                <span style="margin-left: auto; color: var(--text-secondary);">IP: 192.168.1.${100 + i}</span>
                            </div>
                            <div style="color: var(--text-secondary);">
                                ${['Viewed agent details', 'Updated system settings', 'Generated report', 'Deployed new agent', 'Cleared alerts'][i % 5]}
                            </div>
                        </div>
                    `).join('')}
                </div>
                <div style="margin-top: 2rem;">
                    <button class="btn btn-primary" onclick="closeModal()">Close</button>
                </div>
            `);
        }

        function downloadReport() {
            showModal('📊 Download Report', `
                <div style="text-align: center; padding: 2rem;">
                    <div style="font-size: 4rem; margin-bottom: 1rem;">📥</div>
                    <h3 style="margin-bottom: 1rem;">Generating comprehensive report...</h3>
                    <div style="width: 100%; background: var(--secondary-bg); border-radius: 20px; height: 8px; margin-bottom: 1rem;">
                        <div style="width: 75%; background: var(--accent); height: 100%; border-radius: 20px; transition: width 1s ease;"></div>
                    </div>
                    <p style="color: var(--text-secondary);">
                        Compiling data from all 2,847 agents...
                    </p>
                </div>
            `);
            
            setTimeout(() => {
                closeModal();
                // Trigger download
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    bottom: 20px;
                    right: 20px;
                    background: var(--success);
                    color: var(--primary-bg);
                    padding: 1rem 1.5rem;
                    border-radius: 8px;
                    box-shadow: 0 4px 20px rgba(0, 255, 136, 0.4);
                    animation: slideIn 0.3s ease;
                    z-index: 3000;
                `;
                notification.textContent = '✓ Report downloaded successfully';
                document.body.appendChild(notification);
                setTimeout(() => notification.remove(), 3000);
            }, 2000);
        }

        // Filter Map
        function filterMap(status) {
            const buttons = document.querySelectorAll('.map-control-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // In a real implementation, this would filter map markers
            console.log(`Filtering map by: ${status}`);
        }

        // Sidebar Functions
        function showDashboard() { location.reload(); }
        function showAgents() { alert('Agents view coming soon...'); }
        function showThreats() { alert('Threats view coming soon...'); }
        function showDeployments() { alert('Deployments view coming soon...'); }
        function showMaintenance() { alert('Maintenance view coming soon...'); }
        function showBackups() { alert('Backups view coming soon...'); }
        function showPerformance() { alert('Performance view coming soon...'); }
        function showFinancials() { alert('Financials view coming soon...'); }
        function showReports() { alert('Reports view coming soon...'); }
        function showTickets() { alert('Tickets view coming soon...'); }
        function showDocumentation() { alert('Documentation coming soon...'); }

        // Report Functions
        function generateFinancialReport() { closeModal(); downloadReport(); }
        function generateSecurityReport() { closeModal(); downloadReport(); }
        function generatePerformanceReport() { closeModal(); downloadReport(); }
        function generateComplianceReport() { closeModal(); downloadReport(); }
        function generateNewKey() { alert('New API key generated successfully!'); showApiKeys(); }
        function investigateAlert() { alert('Opening investigation dashboard...'); }
        function toggleAgent(id) { alert(`Agent ${id} toggled successfully!`); }
        function showAllAgents() { showAgents(); }

        // Close modal on escape
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        // Session management
        window.addEventListener('beforeunload', function() {
            sessionStorage.setItem('lastActivity', new Date().toISOString());
        });

        // Check session timeout (30 minutes)
        setInterval(() => {
            const lastActivity = sessionStorage.getItem('lastActivity');
            if (lastActivity) {
                const timeDiff = new Date() - new Date(lastActivity);
                if (timeDiff > 30 * 60 * 1000) { // 30 minutes
                    alert('Session expired. Please log in again.');
                    sessionStorage.removeItem('loggedIn');
                    window.location.href = 'index.html';
                }
            }
        }, 60000); // Check every minute

        // Initialize on load
        window.onload = initDashboard;
    </script>
</body>
</html>
